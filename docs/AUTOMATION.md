# AIæ–¹èˆŸ - è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸å®šæ—¶ä»»åŠ¡é…ç½®

## ğŸ“‹ ç›®å½•

- [è‡ªåŠ¨åŒ–æ¶æ„](#è‡ªåŠ¨åŒ–æ¶æ„)
- [GitHub Actions è‡ªåŠ¨æ›´æ–°](#github-actions-è‡ªåŠ¨æ›´æ–°)
- [1Panel è‡ªåŠ¨æ‹‰å–](#1panel-è‡ªåŠ¨æ‹‰å–)
- [æœ¬åœ°æ‰‹åŠ¨æ›´æ–°](#æœ¬åœ°æ‰‹åŠ¨æ›´æ–°)
- [é¡¹ç›®ç»“æ„è§„èŒƒ](#é¡¹ç›®ç»“æ„è§„èŒƒ)

---

## è‡ªåŠ¨åŒ–æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Actions                          â”‚
â”‚  (æ¯å¤©å‡Œæ™¨ 2:00 UTC / åŒ—äº¬æ—¶é—´ 10:00 è‡ªåŠ¨æ‰§è¡Œ)             â”‚
â”‚                                                             â”‚
â”‚  1. æ£€å‡ºä»£ç                                                  â”‚
â”‚  2. å®‰è£… Python ä¾èµ–                                        â”‚
â”‚  3. è¿è¡Œçˆ¬è™« (scraper/merge_data.py)                        â”‚
â”‚  4. æ£€æŸ¥æ•°æ®å˜æ›´                                             â”‚
â”‚  5. æäº¤å¹¶æ¨é€                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ git push
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub ä»“åº“                              â”‚
â”‚                                                             â”‚
â”‚  .github/workflows/auto-update.yml                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ webhook (è‡ªåŠ¨)
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    1Panel æœåŠ¡å™¨                           â”‚
â”‚                                                             â”‚
â”‚  ç½‘ç«™é…ç½® â†’ ä»£ç ç®¡ç† â†’ è‡ªåŠ¨æ‹‰å–å¯ç”¨                         â”‚
â”‚                                                             â”‚
â”‚  1. æ£€æµ‹åˆ°ä»£ç å˜æ›´                                          â”‚
â”‚  2. è‡ªåŠ¨ git pull                                          â”‚
â”‚  3. é‡å¯å®¹å™¨                                               â”‚
â”‚  4. ç½‘ç«™æ›´æ–°å®Œæˆ                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## GitHub Actions è‡ªåŠ¨æ›´æ–°

### 1. æ–‡ä»¶ä½ç½®

```
.github/workflows/auto-update.yml
```

### 2. å·¥ä½œæµè¯´æ˜

| é¡¹ç›® | å€¼ |
|------|-----|
| è§¦å‘æ—¶é—´ | æ¯å¤© UTC 2:00 (åŒ—äº¬æ—¶é—´ 10:00) |
| è§¦å‘æ–¹å¼ | è‡ªåŠ¨è®¡åˆ’ + æ‰‹åŠ¨è§¦å‘ |
| è¿è¡Œæ­¥éª¤ | çˆ¬å– â†’ æ£€æŸ¥å˜æ›´ â†’ æäº¤ â†’ æ¨é€ |
| æƒé™ | contents: write |

### 3. æ‰‹åŠ¨è§¦å‘

1. è®¿é—® https://github.com/shuishenfangzhou/ai-ark/actions
2. ç‚¹å‡» **"Auto Update"** å·¥ä½œæµ
3. ç‚¹å‡» **"Run workflow"**
4. å¯é€‰å¡«å†™æ›´æ–°è¯´æ˜

### 4. é¢„æœŸè¡Œä¸º

- âœ… å¦‚æœæ•°æ®æœ‰å˜åŒ–ï¼šè‡ªåŠ¨æäº¤å¹¶æ¨é€
- âœ… å¦‚æœæ•°æ®æ— å˜åŒ–ï¼šè·³è¿‡æäº¤
- âœ… æ¨é€å 1Panel è‡ªåŠ¨æ‹‰å–

---

## 1Panel è‡ªåŠ¨æ‹‰å–

### æ–¹å¼ä¸€ï¼šå¯ç”¨è‡ªåŠ¨æ‹‰å–ï¼ˆæ¨èï¼‰

1. ç™»å½• 1Panel åå°
2. è¿›å…¥ **ç½‘ç«™** â†’ æ‰¾åˆ° **AIæ–¹èˆŸ**
3. ç‚¹å‡» **è®¾ç½®**
4. æ‰¾åˆ° **ã€Œä»£ç ç®¡ç†ã€** æˆ– **ã€Œè‡ªåŠ¨æ‹‰å–ã€**
5. å¯ç”¨ **ã€Œä»£ç å˜æ›´è‡ªåŠ¨æ‹‰å–ã€**
6. ä¿å­˜

### æ–¹å¼äºŒï¼šé…ç½® Webhookï¼ˆæ›´å¯é ï¼‰

#### æ­¥éª¤ 1: åœ¨ 1Panel è·å– Webhook URL

1. 1Panel â†’ **è®¾ç½®** â†’ **Webhook**
2. æ·»åŠ  Webhookï¼š
   - åç§°ï¼š`GitHub Auto Update`
   - è§¦å‘å‘½ä»¤ï¼š`git pull origin main`
   - ä¿å­˜åä¼šå¾—åˆ° URLï¼Œå¦‚ï¼š
   ```
   https://ä½ çš„åŸŸå:ç«¯å£/api/webhook/abc123xyz
   ```

#### æ­¥éª¤ 2: åœ¨ GitHub é…ç½® Webhook

1. è®¿é—® https://github.com/shuishenfangzhou/ai-ark/settings/hooks
2. ç‚¹å‡» **Add webhook**
3. å¡«å†™ï¼š
   - **Payload URL**: 1Panel çš„ Webhook URL
   - **Content type**: `application/json`
   - **Events**: å‹¾é€‰ **Push events**
4. ç‚¹å‡» **Add webhook**

#### æ­¥éª¤ 3: æµ‹è¯•

```bash
# åœ¨æœ¬åœ°æ¨é€ä¸€ä¸ªæµ‹è¯•æäº¤
git add -A
git commit -m "test: webhook"
git push origin main
```

1Panel åº”è¯¥ä¼šè‡ªåŠ¨æ‹‰å–æ›´æ–°ã€‚

---

## æœ¬åœ°æ‰‹åŠ¨æ›´æ–°

### æ–¹å¼ 1: ä½¿ç”¨æ›´æ–°è„šæœ¬

```bash
# Windows
update_data_enhanced.bat

# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
python scraper/merge_data.py
```

### æ–¹å¼ 2: æ‰‹åŠ¨æ‰§è¡Œ

```bash
cd /path/to/ai-ark

# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 2. è¿è¡Œçˆ¬è™«
python scraper/merge_data.py

# 3. æäº¤å¹¶æ¨é€
git add -A
git commit -m "chore: æ‰‹åŠ¨æ›´æ–°æ•°æ® $(date +%Y-%m-%d)"
git push origin main
```

### æ–¹å¼ 3: å®Œæ•´éƒ¨ç½²è„šæœ¬

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
bash deploy_to_1panel.sh
```

---

## é¡¹ç›®ç»“æ„è§„èŒƒ

### æ ‡å‡†ç›®å½•ç»“æ„

```
ai-ark/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ frontend/          # å‰ç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.html     # ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ js/            # JavaScript
â”‚   â”‚   â””â”€â”€ assets/        # é™æ€èµ„æº
â”‚   â””â”€â”€ backend/           # åç«¯ (å¯é€‰)
â”œâ”€â”€ scraper/                # çˆ¬è™«è„šæœ¬
â”‚   â”œâ”€â”€ merge_data.py      # æ•°æ®åˆå¹¶
â”‚   â””â”€â”€ output/            # çˆ¬è™«è¾“å‡º
â”œâ”€â”€ data/                   # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ toolsData.json     # å·¥å…·æ•°æ®
â”œâ”€â”€ public/                 # é™æ€èµ„æº (1Panel éƒ¨ç½²ç›®å½•)
â”œâ”€â”€ .github/workflows/      # GitHub Actions
â”œâ”€â”€ docker/                 # Docker é…ç½®
â”œâ”€â”€ nginx/                  # Nginx é…ç½®
â”œâ”€â”€ scripts/                # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â”œâ”€â”€ .gitignore              # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ docker-compose.yml      # Docker Compose
â”œâ”€â”€ package.json            # Node ä¾èµ–
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

### .gitignore è§„åˆ™

å·²é…ç½® `.gitignore` æ–‡ä»¶ï¼Œæ’é™¤ä»¥ä¸‹å†…å®¹ï¼š

- `node_modules/` - Node ä¾èµ–
- `__pycache__/` - Python ç¼“å­˜
- `*.pyc` - Python ç¼–è¯‘æ–‡ä»¶
- `.env` - ç¯å¢ƒå˜é‡ï¼ˆåŒ…å« API Keyï¼‰
- `dist/` - æ„å»ºè¾“å‡ºï¼ˆå¯é€‰ï¼‰
- `*.log` - æ—¥å¿—æ–‡ä»¶
- `.DS_Store` - Mac ç³»ç»Ÿæ–‡ä»¶
- `playwright-report/` - æµ‹è¯•æŠ¥å‘Š
- `test-results/` - æµ‹è¯•ç»“æœ

### æ–‡ä»¶æ”¾ç½®è§„èŒƒ

| æ–‡ä»¶ç±»å‹ | æ”¾ç½®ä½ç½® | è¯´æ˜ |
|---------|---------|------|
| å‰ç«¯ HTML | `src/frontend/` | é¡µé¢æ–‡ä»¶ |
| å‰ç«¯ JS | `src/frontend/js/` | JavaScript |
| å‰ç«¯ CSS | `src/frontend/css/` | æ ·å¼æ–‡ä»¶ |
| å›¾ç‰‡èµ„æº | `src/frontend/assets/` | å›¾ç‰‡ã€Logo |
| çˆ¬è™«è„šæœ¬ | `scraper/` | Python çˆ¬è™« |
| æ•°æ®æ–‡ä»¶ | `public/` æˆ– `data/` | JSON æ•°æ® |
| éƒ¨ç½²è„šæœ¬ | `scripts/` | Shell è„šæœ¬ |
| æ–‡æ¡£ | `docs/` | Markdown æ–‡æ¡£ |

---

## å¸¸è§é—®é¢˜

### Q1: GitHub Actions è¿è¡Œå¤±è´¥

**æ£€æŸ¥ï¼š**
1. Python ä¾èµ–æ˜¯å¦å®‰è£…
2. çˆ¬è™«è„šæœ¬æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
3. æ˜¯å¦æœ‰ API Key ç¼ºå¤±

**è§£å†³ï¼š**
```bash
# æœ¬åœ°æµ‹è¯•çˆ¬è™«
python scraper/merge_data.py
```

### Q2: 1Panel æ²¡æœ‰è‡ªåŠ¨æ‹‰å–

**æ£€æŸ¥ï¼š**
1. Webhook æ˜¯å¦é…ç½®æ­£ç¡®
2. 1Panel æœåŠ¡æ˜¯å¦è¿è¡Œ
3. ç½‘ç«™é…ç½®æ˜¯å¦å¯ç”¨è‡ªåŠ¨æ‹‰å–

**è§£å†³ï¼š**
```bash
# æ‰‹åŠ¨è§¦å‘æ‹‰å–
cd /opt/1panel/apps/ai-ark
git pull origin main
docker-compose restart
```

### Q3: æ•°æ®æ²¡æœ‰æ›´æ–°

**æ£€æŸ¥ï¼š**
1. çˆ¬è™«æ˜¯å¦æˆåŠŸè¿è¡Œ
2. `dist/toolsData.json` æ˜¯å¦å˜æ›´
3. Git æäº¤æ˜¯å¦æˆåŠŸ

**è§£å†³ï¼š**
```bash
# æ£€æŸ¥æ•°æ®æ–‡ä»¶
ls -lh dist/toolsData.json

# æ£€æŸ¥ Git çŠ¶æ€
git status
```

### Q4: å¦‚ä½•æŸ¥çœ‹ Actions æ—¥å¿—

è®¿é—®ï¼šhttps://github.com/shuishenfangzhou/ai-ark/actions

---

## ç›‘æ§ä¸å‘Šè­¦

### æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

```bash
# GitHub Actions
# è®¿é—®: https://github.com/shuishenfangzhou/ai-ark/actions

# 1Panel æ—¥å¿—
docker-compose logs -f
```

### è®¾ç½®å‘Šè­¦ï¼ˆå¯é€‰ï¼‰

åœ¨ GitHub Actions ä¸­å¯ä»¥é…ç½®ï¼š
- é‚®ä»¶é€šçŸ¥ï¼ˆå…è´¹ï¼‰
- Slack é€šçŸ¥ï¼ˆéœ€è¦é…ç½®ï¼‰
- é’‰é’‰é€šçŸ¥ï¼ˆéœ€è¦é…ç½® Webhookï¼‰

---

## ç»´æŠ¤å»ºè®®

### æ¯æ—¥æ£€æŸ¥

- [ ] GitHub Actions è¿è¡ŒæˆåŠŸ
- [ ] 1Panel è‡ªåŠ¨æ‹‰å–æˆåŠŸ
- [ ] ç½‘ç«™æ•°æ®æ›´æ–°

### æ¯å‘¨æ£€æŸ¥

- [ ] æŸ¥çœ‹çˆ¬è™«æ˜¯å¦æœ‰æŠ¥é”™
- [ ] æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
- [ ] æ¸…ç†ä¸´æ—¶æ–‡ä»¶

### æ¯æœˆæ£€æŸ¥

- [ ] æ›´æ–°ä¾èµ–ç‰ˆæœ¬
- [ ] å®¡æŸ¥ `.gitignore` æ˜¯å¦å®Œå–„
- [ ] å¤‡ä»½é‡è¦æ•°æ®

---

## ğŸ“ è·å–å¸®åŠ©

- **GitHub Actions æ–‡æ¡£**: https://docs.github.com/en/actions
- **1Panel æ–‡æ¡£**: https://1panel.cn/docs
- **é¡¹ç›® Issues**: https://github.com/shuishenfangzhou/ai-ark/issues

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0  
**æœ€åæ›´æ–°**: 2026-01-31
