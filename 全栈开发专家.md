ä½œä¸ºä¸€ä¸ªå…¨æ ˆå¼€å‘ä¸“å®¶ï¼Œè¯·å¸®æˆ‘æŒ‰ç…§ä»¥ä¸‹è¦æ±‚å‡çº§é¡¹ç›®ä¸­çš„æ•°æ®ç®¡ç†æ¨¡å—ã€‚

**ä»»åŠ¡ç›®æ ‡ï¼š**
1. **å‡çº§ `tools_manager.py`**ï¼šå°†ç°æœ‰çš„ Python è„šæœ¬å®Œå…¨æ›¿æ¢ä¸ºä¸‹æ–¹æä¾›çš„**é«˜çº§ç‰ˆæœ¬**ã€‚è¿™ä¸ªæ–°ç‰ˆæœ¬å†…ç½®äº† 50+ ä¸ªçƒ­é—¨ AI å·¥å…·æ•°æ®ï¼ˆåŒ…å« DeepSeekã€Soraã€Runway ç­‰ï¼‰ï¼Œå¹¶å¢åŠ äº†è‡ªåŠ¨ä» Clearbit/Google è·å–é«˜æ¸… Logo çš„åŠŸèƒ½ã€‚
2. **æ‰§è¡Œæ•°æ®ç”Ÿæˆ**ï¼šæ›¿æ¢ä»£ç åï¼Œè¯·åœ¨ç»ˆç«¯è¿è¡Œè¯¥è„šæœ¬ï¼Œä¸‹è½½æ‰€æœ‰å›¾ç‰‡å¹¶ç”Ÿæˆ `js/tools_data.js` æ–‡ä»¶ã€‚
3. **éªŒè¯å‰ç«¯**ï¼šç¡®ä¿ `ai_tools_dashboard.html` æ­£ç¡®å¼•ç”¨äº†ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶ã€‚

**è¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç è¦†ç›– `tools_manager.py` çš„å…¨éƒ¨å†…å®¹ï¼š**

```python
import os
import urllib.request
import json
import ssl
import time
from urllib.parse import urlparse

# --- æ ¸å¿ƒé…ç½® ---
ASSETS_DIR = "assets/logos"
JS_FILE_PATH = "js/tools_data.js"

# å¿½ç•¥ SSL è¯ä¹¦éªŒè¯
ssl._create_default_https_context = ssl._create_unverified_context

# --- AI å·¥å…·å¤§æ•°æ®åº“ (50+ ç²¾é€‰) ---
# åŒ…å«å›½å†…å¤–çƒ­é—¨å·¥å…·ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨æ ¹æ® URL æŠ“å– Logo
tools_db = [
    # === ğŸ‡¨ğŸ‡³ å›½äº§ä¹‹å…‰ ===
    {"name": "DeepSeek", "url": "[https://www.deepseek.com/](https://www.deepseek.com/)", "cat": "text", "desc": "æ·±åº¦æ±‚ç´¢å¼€æºæ¨¡å‹ï¼Œæ¨ç†èƒ½åŠ›æå…¶å¼ºå¤§ã€‚", "tags": ["å¼€æº", "å›½äº§"]},
    {"name": "Kimiæ™ºèƒ½åŠ©æ‰‹", "url": "[https://kimi.moonshot.cn/](https://kimi.moonshot.cn/)", "cat": "text", "desc": "æœˆä¹‹æš—é¢å‡ºå“ï¼Œæ”¯æŒ20ä¸‡å­—è¶…é•¿ä¸Šä¸‹æ–‡ã€‚", "tags": ["é•¿æ–‡æœ¬", "æ–‡ä»¶åˆ†æ"]},
    {"name": "è±†åŒ…", "url": "[https://www.doubao.com/](https://www.doubao.com/)", "cat": "text", "desc": "å­—èŠ‚è·³åŠ¨å‡ºå“ï¼Œè¯­éŸ³äº¤äº’ä½“éªŒæä½³ã€‚", "tags": ["è¯­éŸ³", "æ—¥å¸¸"]},
    {"name": "é€šä¹‰åƒé—®", "url": "[https://tongyi.aliyun.com/](https://tongyi.aliyun.com/)", "cat": "text", "desc": "é˜¿é‡Œå…¨èƒ½å‹å¤§æ¨¡å‹ï¼Œæ”¯æŒå›¾ç‰‡ç†è§£ã€‚", "tags": ["å…¨èƒ½", "é˜¿é‡Œ"]},
    {"name": "æ–‡å¿ƒä¸€è¨€", "url": "[https://yiyan.baidu.com/](https://yiyan.baidu.com/)", "cat": "text", "desc": "ç™¾åº¦æ¨å‡ºçš„çŸ¥è¯†å¢å¼ºå¤§è¯­è¨€æ¨¡å‹ã€‚", "tags": ["ç™¾åº¦", "çŸ¥è¯†"]},
    {"name": "æ™ºè°±æ¸…è¨€", "url": "[https://chatglm.cn/](https://chatglm.cn/)", "cat": "text", "desc": "æ¸…åç³»GLMæ¨¡å‹ï¼Œä¸­æ–‡ç†è§£èƒ½åŠ›å‡ºè‰²ã€‚", "tags": ["æ¸…å", "å¼€æº"]},
    {"name": "å³æ¢¦AI", "url": "[https://jimeng.jianying.com/](https://jimeng.jianying.com/)", "cat": "image", "desc": "å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„AIç»˜ç”»ä¸è§†é¢‘ç”Ÿæˆå¹³å°ã€‚", "tags": ["ç»˜ç”»", "è§†é¢‘"]},
    {"name": "ç§˜å¡”AIæœç´¢", "url": "[https://metaso.cn/](https://metaso.cn/)", "cat": "search", "desc": "æ— å¹¿å‘Šçš„AIå­¦æœ¯æœç´¢ï¼Œè‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ã€‚", "tags": ["æœç´¢", "å­¦æœ¯"]},
    {"name": "å¤©å·¥AI", "url": "[https://www.tiangong.cn/](https://www.tiangong.cn/)", "cat": "search", "desc": "æ˜†ä»‘ä¸‡ç»´æ¨å‡ºçš„AIæœç´¢ä¸å¯¹è¯åŠ©æ‰‹ã€‚", "tags": ["æœç´¢", "éŸ³ä¹"]},
    {"name": "æµ·èºAI", "url": "[https://hailuoai.com/](https://hailuoai.com/)", "cat": "text", "desc": "é€šç”¨äººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæ•ˆç‡æå‡å·¥å…·ã€‚", "tags": ["åŠ©æ‰‹", "æ•ˆç‡"]},

    # === ğŸ‡ºğŸ‡¸ å›½é™…é¡¶æµ (æ–‡æœ¬/ç»¼åˆ) ===
    {"name": "ChatGPT", "url": "[https://chat.openai.com/](https://chat.openai.com/)", "cat": "text", "desc": "OpenAIçš„åˆ’æ—¶ä»£äº§å“ï¼ŒGPT-4oæœ€å¼ºæ¨¡å‹ã€‚", "tags": ["éœ¸ä¸»", "ä»˜è´¹"]},
    {"name": "Claude", "url": "[https://claude.ai/](https://claude.ai/)", "cat": "text", "desc": "Anthropicå‡ºå“ï¼Œä»£ç ä¸é€»è¾‘èƒ½åŠ›è¶…è¶ŠGPT-4ã€‚", "tags": ["ä»£ç ", "é•¿æ–‡æœ¬"]},
    {"name": "Gemini", "url": "[https://gemini.google.com/](https://gemini.google.com/)", "cat": "text", "desc": "Googleçš„åŸç”Ÿå¤šæ¨¡æ€å¤§æ¨¡å‹ã€‚", "tags": ["Google", "å¤šæ¨¡æ€"]},
    {"name": "Perplexity", "url": "[https://www.perplexity.ai/](https://www.perplexity.ai/)", "cat": "search", "desc": "ç»“åˆäº†GPT-4çš„æ™ºèƒ½æœç´¢å¼•æ“ï¼Œå¼•ç”¨æ¥æºã€‚", "tags": ["æœç´¢", "ç²¾å‡†"]},
    {"name": "Poe", "url": "[https://poe.com/](https://poe.com/)", "cat": "text", "desc": "Quoraæ¨å‡ºçš„AIèšåˆå¹³å°ï¼Œé›†æˆå¤šç§æ¨¡å‹ã€‚", "tags": ["èšåˆ", "å¤šæ¨¡å‹"]},

    # === ğŸ¨ å›¾åƒä¸è®¾è®¡ ===
    {"name": "Midjourney", "url": "[https://www.midjourney.com/](https://www.midjourney.com/)", "cat": "image", "desc": "ç›®å‰ç”Ÿæˆè´¨é‡æœ€é«˜çš„AIç»˜ç”»å·¥å…·ã€‚", "tags": ["è‰ºæœ¯", "ä»˜è´¹"]},
    {"name": "Stable Diffusion", "url": "[https://stability.ai/](https://stability.ai/)", "cat": "image", "desc": "å¼€æºAIç»˜ç”»åŸºçŸ³ï¼Œå¯æœ¬åœ°éƒ¨ç½²ã€‚", "tags": ["å¼€æº", "æœ¬åœ°"]},
    {"name": "Leonardo.ai", "url": "[https://leonardo.ai/](https://leonardo.ai/)", "cat": "image", "desc": "æ¸¸æˆèµ„äº§ç”Ÿæˆçš„ç»ä½³å·¥å…·ï¼Œç•Œé¢å‹å¥½ã€‚", "tags": ["æ¸¸æˆ", "èµ„äº§"]},
    {"name": "Canva AI", "url": "[https://www.canva.com/](https://www.canva.com/)", "cat": "image", "desc": "åœ¨çº¿è®¾è®¡å·¨å¤´ï¼Œå†…ç½®é­”åŠ›è®¾è®¡å·¥å…·ã€‚", "tags": ["è®¾è®¡", "åŠå…¬"]},
    {"name": "Freepik AI", "url": "[https://www.freepik.com/ai](https://www.freepik.com/ai)", "cat": "image", "desc": "è®¾è®¡å¸ˆå¿…å¤‡çš„ç´ æç”Ÿæˆä¸æœç´¢åº“ã€‚", "tags": ["ç´ æ", "è®¾è®¡"]},

    # === ğŸ¥ è§†é¢‘ä¸åŠ¨ç”» ===
    {"name": "Sora", "url": "[https://openai.com/sora](https://openai.com/sora)", "cat": "video", "desc": "OpenAIæœªå‘å¸ƒçš„æ–‡ç”Ÿè§†é¢‘æ¨¡å‹ï¼Œæ•ˆæœéœ‡æ’¼ã€‚", "tags": ["æœŸå¾…", "è§†é¢‘"]},
    {"name": "Runway", "url": "[https://runwayml.com/](https://runwayml.com/)", "cat": "video", "desc": "Gen-2æ¨¡å‹ï¼Œè§†é¢‘ç¼–è¾‘ä¸ç”Ÿæˆçš„ä¸“ä¸šå·¥å…·ã€‚", "tags": ["ä¸“ä¸š", "è§†é¢‘"]},
    {"name": "Pika", "url": "[https://pika.art/](https://pika.art/)", "cat": "video", "desc": "ä¸“æ³¨äºåŠ¨ç”»ç”Ÿæˆçš„AIï¼Œæ•ˆæœæµç•…ã€‚", "tags": ["åŠ¨ç”»", "æ˜“ç”¨"]},
    {"name": "HeyGen", "url": "[https://www.heygen.com/](https://www.heygen.com/)", "cat": "video", "desc": "æ•°å­—äººè§†é¢‘ç”Ÿæˆï¼Œå£å‹åŒæ­¥æå…¶ç²¾å‡†ã€‚", "tags": ["æ•°å­—äºº", "å£æ’­"]},
    {"name": "Luma Dream Machine", "url": "[https://lumalabs.ai/dream-machine](https://lumalabs.ai/dream-machine)", "cat": "video", "desc": "é«˜è´¨é‡ä¸”å…è´¹çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ã€‚", "tags": ["å…è´¹", "3D"]},

    # === ğŸ’» ç¼–ç¨‹ä¸å¼€å‘ ===
    {"name": "GitHub Copilot", "url": "[https://github.com/features/copilot](https://github.com/features/copilot)", "cat": "code", "desc": "æœ€æµè¡Œçš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Œè‡ªåŠ¨è¡¥å…¨ä»£ç ã€‚", "tags": ["ç¼–ç¨‹", "å¾®è½¯"]},
    {"name": "Trae", "url": "[https://www.trae.ai/](https://www.trae.ai/)", "cat": "code", "desc": "å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„AI IDEï¼Œä¸­æ–‡é€‚é…å¥½ã€‚", "tags": ["IDE", "å…è´¹"]},
    {"name": "Cursor", "url": "[https://www.cursor.com/](https://www.cursor.com/)", "cat": "code", "desc": "åŸºäºVS Codeä¿®æ”¹çš„AIåŸç”Ÿç¼–è¾‘å™¨ã€‚", "tags": ["IDE", "çƒ­é—¨"]},
    {"name": "V0.dev", "url": "[https://v0.dev/](https://v0.dev/)", "cat": "code", "desc": "Vercelæ¨å‡ºçš„ç”Ÿæˆå¼UIå·¥å…·ï¼Œç”ŸæˆReactä»£ç ã€‚", "tags": ["UI", "å‰ç«¯"]},
    {"name": "Replit", "url": "[https://replit.com/](https://replit.com/)", "cat": "code", "desc": "åœ¨çº¿ç¼–ç¨‹ç¯å¢ƒï¼Œå†…ç½®Ghostwriter AIã€‚", "tags": ["äº‘ç«¯", "åä½œ"]},

    # === ğŸµ éŸ³é¢‘ä¸éŸ³ä¹ ===
    {"name": "Suno", "url": "[https://suno.com/](https://suno.com/)", "cat": "audio", "desc": "ä¸€é”®ç”Ÿæˆå¹¿æ’­çº§æ­Œæ›²ï¼ŒéŸ³ä¹ç•ŒChatGPTã€‚", "tags": ["éŸ³ä¹", "åˆ›ä½œ"]},
    {"name": "Udio", "url": "[https://www.udio.com/](https://www.udio.com/)", "cat": "audio", "desc": "ä¸Sunoç«äº‰çš„é«˜ä¿çœŸéŸ³ä¹ç”Ÿæˆå™¨ã€‚", "tags": ["éŸ³ä¹", "é«˜ä¿çœŸ"]},
    {"name": "ElevenLabs", "url": "[https://elevenlabs.io/](https://elevenlabs.io/)", "cat": "audio", "desc": "ç›®å‰æœ€è‡ªç„¶çš„AIè¯­éŸ³åˆæˆ(TTS)å·¥å…·ã€‚", "tags": ["é…éŸ³", "è¯­éŸ³"]},
    
    # === ğŸ“Š åŠå…¬ä¸æ•ˆç‡ ===
    {"name": "Notion AI", "url": "[https://www.notion.so/](https://www.notion.so/)", "cat": "text", "desc": "é›†æˆåœ¨ç¬”è®°ä¸­çš„AIï¼Œæ¶¦è‰²ã€æ€»ç»“ã€ç¿»è¯‘ã€‚", "tags": ["ç¬”è®°", "åŠå…¬"]},
    {"name": "Gamma", "url": "[https://gamma.app/](https://gamma.app/)", "cat": "text", "desc": "ä¸€é”®ç”Ÿæˆç²¾ç¾PPTå’Œç½‘é¡µã€‚", "tags": ["PPT", "æ’ç‰ˆ"]},
    {"name": "ChatPDF", "url": "[https://www.chatpdf.com/](https://www.chatpdf.com/)", "cat": "text", "desc": "ä¸Šä¼ PDFå³å¯ä¸æ–‡æ¡£å¯¹è¯ã€‚", "tags": ["æ–‡æ¡£", "é˜…è¯»"]},
]

# --- è¾…åŠ©å‡½æ•°ï¼šä»åŸŸåè·å– Logo ---
def get_logo_sources(url, name):
    """
    ç”Ÿæˆå¯èƒ½çš„ Logo ä¸‹è½½åœ°å€ã€‚
    ä¼˜å…ˆä½¿ç”¨ Clearbit APIï¼Œå…¶æ¬¡æ˜¯ Google Favicon APIã€‚
    """
    try:
        domain = urlparse(url).netloc.replace("www.", "")
        # ä¸¤ä¸ªå¼ºå¤§çš„å…è´¹ Logo æº
        s1 = f"[https://logo.clearbit.com/](https://logo.clearbit.com/){domain}?size=128"
        s2 = f"[https://www.google.com/s2/favicons?domain=](https://www.google.com/s2/favicons?domain=){domain}&sz=128"
        return [s1, s2]
    except:
        return []

def setup_directories():
    if not os.path.exists(ASSETS_DIR):
        os.makedirs(ASSETS_DIR)
        print(f"ğŸ“ åˆ›å»ºæ–‡ä»¶å¤¹: {ASSETS_DIR}")
    
    js_dir = os.path.dirname(JS_FILE_PATH)
    if not os.path.exists(js_dir):
        os.makedirs(js_dir)

def download_image(sources, filename):
    """å°è¯•ä»å¤šä¸ªæºä¸‹è½½å›¾ç‰‡ï¼ŒæˆåŠŸä¸€ä¸ªå³åœæ­¢"""
    local_path = f"{ASSETS_DIR}/{filename}.png"
    
    # å¦‚æœå·²ç»å­˜åœ¨ï¼Œè·³è¿‡ï¼ˆçœæµé‡ï¼‰
    if os.path.exists(local_path):
        return local_path

    for url in sources:
        try:
            # ä¼ªè£… User-Agent
            req = urllib.request.Request(
                url, 
                headers={'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'}
            )
            with urllib.request.urlopen(req, timeout=5) as response:
                if response.getcode() == 200:
                    data = response.read()
                    if len(data) > 100: # ç®€å•æ£€æŸ¥æ˜¯å¦æ˜¯æœ‰æ•ˆå›¾ç‰‡
                        with open(local_path, 'wb') as f:
                            f.write(data)
                        print(f"âœ… ä¸‹è½½æˆåŠŸ: {filename}")
                        return local_path
        except:
            continue
    
    print(f"âš ï¸ ä¸‹è½½å¤±è´¥: {filename} (å°†ä½¿ç”¨é»˜è®¤å›¾)")
    return None

def main():
    setup_directories()
    final_data = []
    print(f"ğŸš€ æ­£åœ¨å¤„ç† {len(tools_db)} ä¸ª AI å·¥å…·... (è¯·è€å¿ƒç­‰å¾…ä¸‹è½½)")
    
    for i, tool in enumerate(tools_db):
        # 1. ç”Ÿæˆæ–‡ä»¶å
        safe_name = "".join([c for c in tool['name'] if c.isalnum() or c in ('-','_')]).lower()
        
        # 2. è·å–ä¸‹è½½æºå¹¶ä¸‹è½½
        sources = get_logo_sources(tool['url'], tool['name'])
        local_path = download_image(sources, safe_name)
        
        # 3. æ„å»ºæœ€ç»ˆæ•°æ®å¯¹è±¡
        tool_entry = {
            "id": i + 1,
            "name": tool['name'],
            "category": tool['cat'],
            "desc": tool['desc'],
            "url": tool['url'],
            "tags": tool['tags'],
            # å¦‚æœä¸‹è½½å¤±è´¥ï¼Œä½¿ç”¨ UI Avatars ç”Ÿæˆæ–‡å­—å¤´åƒ
            "logo": local_path if local_path else f"[https://ui-avatars.com/api/?name=](https://ui-avatars.com/api/?name=){tool['name']}&background=random&color=fff&size=128"
        }
        final_data.append(tool_entry)
        time.sleep(0.1) # ç¨å¾®åœé¡¿ï¼Œé˜²æ­¢è¯·æ±‚è¿‡å¿«

    # 4. ç”Ÿæˆ JS æ–‡ä»¶
    js_content = f"""
// ==========================================
// è‡ªåŠ¨ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶ - è¯·å‹¿æ‰‹åŠ¨ä¿®æ”¹
// ç”Ÿæˆæ—¶é—´: {time.strftime("%Y-%m-%d %H:%M:%S")}
// å·¥å…·æ€»æ•°: {len(final_data)}
// ==========================================
const aiToolsData = {json.dumps(final_data, indent=4, ensure_ascii=False)};
"""
    
    with open(JS_FILE_PATH, "w", encoding="utf-8") as f:
        f.write(js_content)
    
    print(f"\nâœ¨ å¤§åŠŸå‘Šæˆï¼å·²ç”Ÿæˆ js/tools_data.js")
    print(f"ğŸ“Š å½“å‰æ”¶å½•å·¥å…·: {len(final_data)} ä¸ª")

if __name__ == "__main__":
    main()